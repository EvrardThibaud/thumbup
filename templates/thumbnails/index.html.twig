{% extends 'base.html.twig' %}
{% block title %}Thumbnails{% endblock %}

{% block body %}
<div class="container py-4">
  <div class="d-flex align-items-center justify-content-between mb-3">
  <h1 class="h4 m-0">ğŸ–¼ï¸ Thumbnails</h1>

  {% if not isClientOnly %}
    <form method="get" action="{{ path('app_thumbnails_index') }}" class="d-flex align-items-center gap-2">
      <select name="client" class="form-select form-select-sm bg-dark text-light border-secondary"
              onchange="if(this.value===''){window.location.href='{{ path('app_thumbnails_index') }}';}else{this.form.submit();}">
        <option value="" {{ selectedClient is null ? 'selected':'' }}>All clients</option>
        {% for c in clients %}
          <option value="{{ c.id }}" {{ selectedClient and selectedClient.id == c.id ? 'selected':'' }}>
            {{ c.name }}
          </option>
        {% endfor %}
      </select>
      {% if selectedClient %}
        <a class="btn btn-sm btn-outline-secondary" href="{{ path('app_thumbnails_index') }}">Reset</a>
      {% endif %}
    </form>
  {% endif %}
</div>

  {% include 'thumbnails/_orders.html.twig' with { orders: orders } only %}

  <div class="d-flex justify-content-between mt-3">
    {% set q = selectedClient ? {client: selectedClient.id} : {} %}
    <a class="btn btn-outline-secondary btn-sm {{ page <= 1 ? 'disabled' : '' }}"
       href="{{ page > 1 ? path('app_thumbnails_index', q|merge({page: page-1})) : '#' }}">
      â† Previous
    </a>

    {% if hasMore %}
      <a class="btn btn-outline-secondary btn-sm"
         href="{{ path('app_thumbnails_index', q|merge({page: page+1})) }}">
        Next â†’
      </a>
    {% else %}
      <span class="text-secondary small align-self-center">â€” End â€”</span>
    {% endif %}
  </div>
</div>
{% endblock %}
